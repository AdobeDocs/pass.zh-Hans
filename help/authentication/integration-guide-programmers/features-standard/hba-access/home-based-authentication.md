---
title: 基于家庭的身份验证(HBA)
description: 基于家庭的身份验证(HBA)
exl-id: abdc7724-4290-404a-8f93-953662cdc2bc
source-git-commit: ffedb5db269644c8d9c81480d27dff43bd4eb5d6
workflow-type: tm+mt
source-wordcount: '1308'
ht-degree: 0%

---

# 基于家庭的身份验证(HBA) {#home-based-authentication}

>[!IMPORTANT]
>
> 此页面上的内容仅供参考。 使用此API需要来自Adobe的当前许可证。 不允许未经授权使用。

基于家庭的身份验证(HBA)是TV Everywhere的一项功能，它允许付费电视订阅者在连接到其家庭网络时，无需输入MVPD凭据即可在线访问电视内容，从而大大增强了身份验证体验。

根据开放认证技术委员会(OATC)的说法：

> “家庭内自动身份验证是MVPD/OVD使用家庭网络的特征（或家庭网络上的设备之间自动访问的标识符）来验证哪个订户帐户与该家庭网络关联的过程，从而使用户在启动访问受保护内容的TVE会话时无需手动输入凭据。”

有关基于家庭的身份验证(HBA)和相关行业标准的详细信息，请参阅以下资源：

>[!MORELIKETHIS]
>
> * 由CTAM进行的[即时访问(HBA)](http://www.ctamtve.com/instantaccess)
> * [OATC基于家庭的身份验证用例和要求](https://tve.helpdocsonline.com/topic/awsfiles/download_files?ref=https://dzf8vqv24eqhg.cloudfront.net/userfiles/258/326/ckfinder/files/Defining%20TVE%20Home-Based%20Authentication%20(HBA)%20%20Use%20Cases%20and%20Requirements%20Recommended%20Practice%20Version%201_0%20FINAL%20DRAFT%20FOR%20BOARD%20APPROVAL.pdf)
> * [按Adobe列出的基于主页的身份验证信息图](https://tve.helpdocsonline.com/topic/awsfiles/download_files?ref=https://dzf8vqv24eqhg.cloudfront.net/userfiles/258/326/ckfinder/files/AdobeNewsletterHBA.pdf?dc=201604260953-2640)
> * [启用了OAuth2的MVPD验证](/help/authentication/integration-guide-mvpds/authn-oauth2-protocol.md)
> * [启用了SAML的MVPD的身份验证](/help/authentication/integration-guide-mvpds/authn-usecase.md)
> * [用户元数据](/help/authentication/integration-guide-programmers/features-standard/entitlements/user-metadata.md)

## HBA优点 {#hba-benefits}

基于家庭身份的身份验证(HBA)是一项关键功能，可为拥有活动电缆订阅的家庭用户消除登录障碍。 对于所有的电视服务来说，这一障碍是一个重大挑战，几乎一半的登录尝试会导致失败。

HBA可以极大地提高观看者参与度，为访问电视随处内容提供无缝和卓越的用户体验。

## HBA支持 {#hba-support}

>[!IMPORTANT]
>
> 如果您希望利用HBA功能，请联系您的Adobe Pass身份验证销售代表以了解更多信息，因为某些HBA流已包含在Premium Workflow包中。

许多与Adobe Pass身份验证集成的MVPD都支持HBA，但为了从HBA中获益，您可能需要执行一些其他步骤。

**SAML MVPD**

对于SAML MVPD，HBA仅在MVPD端激活。

**OAuth2 MVPD**

对于OAuth2 MVPD，可以按照[TVE仪表板集成用户指南](/help/authentication/user-guide-tve-dashboard/tve-dashboard-integrations.md#most-used-flows)中的步骤，通过[Adobe Pass TVE仪表板](https://experience.adobe.com/#/pass/authentication)打开或关闭HBA。

### MVPDs {#hba-support-mvpds}

**SAML MVPD**

下表概述了支持HBA且启用了SAML的MVPD：

| MVPD | 有基本功能吗？ | 是否发送身份验证响应标志？ |
|--------------|--------------------------------|----------------------------------------|
| DirecTV | 是 | 否 |
| 碟子 | 是 | 否 |
| 频谱 | 是 | 是 |
| Cox | 是 | 否 |
| AT&amp;T | 是 | 否 |
| 威里宗 | 是 | 是 |
| Cablevision | 是 | 否 |
| Mediacom | 是 | 否 |
| 中大陆 | 是 | 否 |
| 马西隆 | 是 | 否 |
| AlticeOne | 是 | 是 |

**OAuth2 MVPD**

下表概述了支持HBA且启用了OAuth2的MVPD：

| MVPD | 有基本功能吗？ | 是否发送身份验证响应标志？ |
|---------|--------------------------------|----------------------------------------|
| Comcast | 是 | 是 |

### Adobe Pass 身份验证 {#hba-support-adobe-pass-authentication}

此部分概述了支持HBA的体验，并详细介绍了Adobe Pass身份验证提供的支持，其中重点介绍了关键功能，例如：

* **HBA标识：**&#x200B;能够向程序员指示身份验证是HBA还是非HBA(需要MVPD支持)。
* **可配置的身份验证TTL：**&#x200B;能够为HBA和非HBA身份验证设置不同的身份验证生存时间(TTL)值(需要MVPD支持)。

下表提供了用户在HBA和常规（非HBA）身份验证流程中的体验的总体概述：

| 身份验证类型 | 用户体验 |
|---------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| HBA | 用户选择他们的MVPD，并在连接到其家庭网络时自动进行身份验证。 身份验证过期后，用户需要重新选择其MVPD，之后将自动重新进行身份验证。 |
| 常规（非HBA） | 用户选择他们的MVPD，并且会提示您输入他们的凭据，无论他们是否连接到家庭网络。 身份验证过期后，用户必须重新选择其MVPD并重新输入其凭据。 |

**SAML MVPD**

下表概述了启用SAML的MVPD的HBA实施情况：

| 用户操作 | 系统操作 |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 用户尝试播放视频。<br/><br/>将显示MVPD选取器。<br/><br/>用户选择其MVPD并继续登录。 | 在MVPD应用其用户识别规则的情况下，将执行后台检查。 例如，这可能涉及将用户的IP地址映射到分发服务器提供的调制解调器或宽带连接的机顶盒的MAC地址。 |
| 此时会显示一个持续约3秒的屏幕。<br/><br/>插播式广告页面可能会通知用户，他们正使用其MVPD帐户自动登录。 | 该应用程序将在用户代理中打开身份验证URL，启动对Adobe Pass身份验证端点的HTTP请求。<br/><br/>Adobe Pass身份验证终结点通过用户代理重定向将请求转发到MVPD的身份验证终结点。<br/><br/>MVPD应以SAML响应的形式发送身份验证决定，该响应中包含HBA标志(`hba_status`)，其值为“true”或“false”。<br/><br/>Adobe Pass身份验证后端向MVPD用户配置文件端点发出请求，以将`hba_status`标志公开为[用户元数据](/help/authentication/integration-guide-programmers/features-standard/entitlements/user-metadata.md)的一部分。 |
| 用户已经过身份验证，现在可以浏览授权的TV Everywhere内容。 | 该应用程序可检索用户配置文件，并可进一步执行决策流以播放内容。 |

**OAuth2 MVPD**

下表概述了启用OAuth2的MVPD的HBA实施：

| 用户操作 | 系统操作 |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 用户尝试播放视频。<br/><br/>将显示MVPD选取器。<br/><br/>用户选择其MVPD并继续登录。 | 在MVPD应用其用户识别规则的情况下，将执行后台检查。 例如，这可能涉及将用户的IP地址映射到分发服务器提供的调制解调器或宽带连接的机顶盒的MAC地址。 |
| 此时会显示一个持续约3秒的屏幕。<br/><br/>插播式广告页面可能会通知用户，他们正使用其MVPD帐户自动登录。 | 该应用程序将在用户代理中打开身份验证URL，启动对Adobe Pass身份验证端点的HTTP请求。<br/><br/>Adobe Pass身份验证终结点通过用户代理重定向将请求转发到MVPD的身份验证终结点。<br/><br/>MVPD身份验证终结点向Adobe Pass身份验证终结点发送授权代码。<br/><br/>Adobe Pass身份验证使用授权代码从MVPD的令牌端点请求刷新令牌和访问令牌。<br/><br/>MVPD应发送身份验证决定，该决定包括`id_token`中值为“true”或“false”的HBA标志(`hba_status`)。<br/><br/>Adobe Pass身份验证后端向MVPD用户配置文件端点发出请求，以将`hba_status`标志公开为[用户元数据](/help/authentication/integration-guide-programmers/features-standard/entitlements/user-metadata.md)的一部分。<br/><br/>MVPD将刷新令牌TTL设置为MVPD同意的值，Adobe将身份验证TTL设置为小于或等于刷新令牌的值。 |
| 用户已经过身份验证，现在可以浏览授权的TV Everywhere内容。 | 该应用程序可检索用户配置文件，并可进一步执行决策流以播放内容。 |

>[!IMPORTANT]
>
> 在使用OAuth 2.0身份验证协议的MVPD的HBA流中，MVPD发出刷新令牌，其TTL由其业务需求定义，而Adobe发出HBA身份验证令牌的TTL不能超过刷新令牌的TTL。

## 常见问题解答 {#faqs}

1. 为什么SAML和OAuth2协议的HBA实施存在区别？

   SAML和OAuth2协议的基于主目录的身份验证(HBA)之间存在分离，因为这些协议在身份验证机制、配置和实施灵活性方面的操作方式不同。 对于SAML MVPD，程序员无需执行任何操作即可启用HBA，而对于OAuth2 MVPD，可通过[Adobe Pass TVE功能板](https://experience.adobe.com/#/pass/authentication)打开或关闭HBA。

1. 启用HBA后，用户是否仍需要在初始身份验证期间输入用户名和密码？

   否，不需要用户名和密码。

1. 如何强制执行家长控制？

   Adobe Pass身份验证可以禁用HBA以便与需要家长控制批准的渠道集成。 此外，我们还与OATC合作编写了一份UX文档，该文档介绍了如何通过家长控制来设置HBA体验。

1. 与常规身份验证相比，支持HBA的提供商对HBA使用的TTL窗口是否更短？

   TTL设置是可配置的。 我们建议为MVPD与HBA的集成设置更短的TTL，以防止错误处理。
